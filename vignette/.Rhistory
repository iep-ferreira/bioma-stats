recortes <- load_rasters(shape_path = ita_shp, start=1985, end=2021, data_from = "example")
#
remove.packages("biomastats")
library(biomastats)
library(devtools)
devtools::install_github("iep-ferreira/biomastats")
library(biomastats)
(path_package <- system.file(package = "biomastats"))
ita_shp <- file.path(path_package, "shp/itapetininga.shp")
library(mapview)
mapview(sf::read_sf(ita_shp))
recortes <- load_rasters(shape_path = ita_shp, start=1985, end=2021, data_from = "example")
knitr::opts_chunk$set(echo = TRUE)
#devtools::install_github("iep-ferreira/biomastats")
library(biomastats)
(path_package <- system.file(package = "biomastats"))
cutout <- make_polygon(lat = -23.605, lon = -48.529, size = 1.5, shape = "hexagon")
mapview(cutout$polygon)
library(mapview)
mapview(cutout$polygon)
mapview(cutout$polygon, zoom = 1.5)
mapview(cutout$polygon, zoom = 2)
mapview(cutout$polygon, zoom = 3)
library(leaflet)
leaflet(cutout$polygon)
leaflet() %>% addTiles(cutout$polygon)
leaflet() %>% addPolygons(data = cutout$polygon)
leaflet() %>% addTiles() %>% addPolygons(data = cutout$polygon)
leaflet() %>% addTiles() %>% addPolygons(data = cutout$polygon) %>% setView(zoom=1.5)
leaflet() %>% addTiles() %>% addPolygons(data = cutout$polygon) %>% setView(lat = -23.605, long = -48.529, zoom=1.5)
leaflet() %>% addTiles() %>% addPolygons(data = cutout$polygon) %>% setView(lat = -23.605, lon = -48.529, zoom=1.5)
leaflet() %>% addTiles() %>% addPolygons(data = cutout$polygon) %>% setView(lat = -23.605, lng = -48.529, zoom=1.5)
leaflet() %>% addTiles() %>% addPolygons(data = cutout$polygon) %>% setView(lat = -23.605, lng = -48.529, zoom=15)
leaflet() %>% addTiles() %>% addPolygons(data = cutout$polygon) %>% setView(lat = -23.605, lng = -48.529, zoom=14)
leaflet() %>% addTiles() %>% addPolygons(data = cutout$polygon) %>% setView(lat = -23.605, lng = -48.529, zoom=14.5)
leaflet() %>% addTiles() %>% addPolygons(data = cutout$polygon) %>% setView(lat = -23.605, lng = -48.529, zoom=14.3)
cutout <- make_polygon(lat = -23.605, lon = -48.51, size = 1.5, shape = "hexagon")
library(mapview)
library(leaflet)
mapview(cutout$polygon)
leaflet() %>% addTiles() %>% addPolygons(data = cutout$polygon) %>% setView(lat = -23.605, lng = -48.529, zoom=14.3)
cutout <- make_polygon(lat = -23.605, lon = -48.520, size = 1.5, shape = "hexagon")
library(mapview)
library(leaflet)
mapview(cutout$polygon)
leaflet() %>% addTiles() %>% addPolygons(data = cutout$polygon) %>% setView(lat = -23.605, lng = -48.529, zoom=14.3)
cutout <- make_polygon(lat = -23.605, lon = -48.522, size = 1.5, shape = "hexagon")
library(leaflet)
leaflet() %>% addTiles() %>% addPolygons(data = cutout$polygon) %>% setView(lat = -23.605, lng = -48.529, zoom=14.3)
leaflet() %>% addTiles(label="") %>% addPolygons(data = cutout$polygon) %>% setView(lat = -23.605, lng = -48.529, zoom=14.3)
leaflet() %>% addTiles(labels="") %>% addPolygons(data = cutout$polygon) %>% setView(lat = -23.605, lng = -48.529, zoom=14.3)
leaflet() %>% addTiles(options = leaflet::tileOptions(label = "")) %>% addPolygons(data = cutout$polygon) %>% setView(lat = -23.605, lng = -48.529, zoom=14.3)
cutout <- make_polygon(lat = -23.610, lon = -48.524, size = 1.5, shape = "hexagon")
library(leaflet)
leaflet() %>% addTiles(options = leaflet::tileOptions(label = "")) %>% addPolygons(data = cutout$polygon) %>% setView(lat = -23.610, lon = -48.524, zoom=14.4)
leaflet() %>% addTiles(options = leaflet::tileOptions(label = "")) %>% addPolygons(data = cutout$polygon) %>% setView(lat = -23.610, lon = -48.524, zoom=14.4)
cutout <- make_polygon(lat = -23.610, lon = -48.524, size = 1.5, shape = "hexagon")
leaflet() %>% addTiles(options = leaflet::tileOptions(label = "")) %>% addPolygons(data = cutout$polygon) %>% setView(lat = -23.610, lng = -48.524, zoom=14.4)
cutout <- make_polygon(lat = -23.602, lon = -48.524, size = 1.5, shape = "hexagon")
leaflet() %>% addTiles(options = leaflet::tileOptions(label = "")) %>% addPolygons(data = cutout$polygon) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
shp_file <- file.path(path_package, "shp/ufscar.shp")
leaflet() %>% addTiles(options = leaflet::tileOptions(label = "")) %>% addPolygons(data = cutout$polygon) %>% addPolygons(data = shp_file) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
shp_file <- file.path(path_package, "shp/ufscar.shp")
leaflet() %>% addTiles(options = leaflet::tileOptions(label = "")) %>% addPolygons(data = cutout$polygon) %>% addPolygons(data = shp_file) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
library(sf)
ufscar_shp <- sf::read_sf(shp_file, crs = 4326)
leaflet() %>% addTiles(options = leaflet::tileOptions(label = "")) %>% addPolygons(data = cutout$polygon) %>% addPolygons(data = ufscar_shp) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
leaflet() %>% addTiles(options = leaflet::tileOptions(label = ""))  %>% addPolygons(data = ufscar_shp) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
ufscar_shp <- sf::read_sf(shp_file, crs = 4326)
leaflet() %>% addTiles(options = leaflet::tileOptions(label = ""))  %>% addPolygons(data = ufscar_shp) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
ufscar_shp <- sf::read_sf(shp_file, crs = 4326)
mapview(ufscar_shp)
ufscar_shp <- sf::read_sf(shp_file, crs = 4326)
ufscar_shp <- sf::read_sf(shp_file)
ufscar_shp <- sf::st_transform(ufscar_shp, crs = 4326)
mapview(ufscar_shp)
leaflet() %>% addTiles(options = leaflet::tileOptions(label = ""))  %>% addPolygons(data = ufscar_shp) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
map_view <- leaflet()
addTiles(map_view, options = leaflet::tileOptions(label = ""))  %>% addPolygons(data = ufscar_shp) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
addTiles(map_view, options = tileOptions(label = ""))  %>% addPolygons(data = ufscar_shp) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
leaflet() %>% addTiles(options = leaflet::tileOptions(label = "", errorTileUrl = "", opacity = 0.9 ))  %>% addPolygons(data = ufscar_shp) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
leaflet() %>% addTiles(options = leaflet::tileOptions(label = "", errorTileUrl = "", opacity = 0.6 ))  %>% addPolygons(data = ufscar_shp) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
leaflet() %>% addTiles(options = leaflet::tileOptions(label = "", errorTileUrl = "", opacity = 0.7 ))  %>% addPolygons(data = ufscar_shp) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
leaflet() %>% addTiles(options = leaflet::tileOptions(label = "", opacity = 0.7, tileSize = 0 ))  %>% addPolygons(data = ufscar_shp) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
leaflet() %>% addTiles(options = leaflet::tileOptions(label = "", opacity = 0.7, tileSize = 10 ))  %>% addPolygons(data = ufscar_shp) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
leaflet() %>% addTiles(options = leaflet::tileOptions(label = "", opacity = 0.7 ))  %>% addPolygons(data = ufscar_shp) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
leaflet() %>% addTiles(options = leaflet::tileOptions())  %>% addPolygons(data = ufscar_shp) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
leaflet() %>% addTiles(url = "mapbox")  %>% addPolygons(data = ufscar_shp) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
leaflet() %>% addTiles(url = "Mapbox")  %>% addPolygons(data = ufscar_shp) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
leaflet() %>% addTiles(url = "ERSI")  %>% addPolygons(data = ufscar_shp) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
leaflet() %>% addTiles() %>% addPolygons(data = ufscar_shp) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
leaflet() %>% addTiles(cex=0.01) %>% addPolygons(data = ufscar_shp) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
leaflet() %>% addTiles(layerId = NULL) %>% addPolygons(data = ufscar_shp) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
leaflet() %>%
addProviderTiles(providers$CartoDB.Positron) %>% addPolygons(data = ufscar_shp) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
mapview(ufscar_shp)
leaflet() %>%
addProviderTiles(providers$OpenTopoMap) %>% addPolygons(data = ufscar_shp) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
recortes <- load_rasters(shape_path = shp_file, start=1985, end=2021, data_from = "example")
results <- get_area(recortes)
results$time_series
land_vis(recortes, year = 1985)
land_vis(recortes, year = 2021)
land_vis(recortes, year = 2020)
mapview(ufscar_shp)
leaflet() %>%
addProviderTiles(providers$Esri.WorldImagery  ) %>% addPolygons(data = ufscar_shp) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
leaflet() %>%
addProviderTiles(providers$Esri.WorldImagery, tileOptions(opacity=0.7)  ) %>% addPolygons(data = ufscar_shp) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
leaflet() %>%
addProviderTiles(providers$Esri.WorldImagery, tileOptions(opacity=0.5)  ) %>% addPolygons(data = ufscar_shp) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
leaflet() %>%
addProviderTiles(providers$MapBox, tileOptions(opacity=0.5)  ) %>% addPolygons(data = ufscar_shp) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
leaflet() %>%
addProviderTiles(providers$Stamen.Terrain , tileOptions(opacity=0.5)  ) %>% addPolygons(data = ufscar_shp) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
leaflet() %>%
addProviderTiles(providers$Esri.WorldStreetMap , tileOptions(opacity=0.5)  ) %>% addPolygons(data = ufscar_shp) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
leaflet() %>%
addProviderTiles(providers$CartoDB.PositronNoLabels , tileOptions(opacity=0.5)  ) %>% addPolygons(data = ufscar_shp) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
leaflet() %>%
addProviderTiles(providers$TomTom , tileOptions(opacity=0.5)  ) %>% addPolygons(data = ufscar_shp) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
leaflet() %>%
addProviderTiles(providers$Thunderforest.Landscape , tileOptions(opacity=0.5)  ) %>% addPolygons(data = ufscar_shp) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
leaflet() %>%
addProviderTiles(providers$Esri.WorldStreetMap , tileOptions(opacity=0.5)  ) %>% addPolygons(data = ufscar_shp) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
leaflet() %>%
addProviderTiles(providers$Esri.WorldImagery , tileOptions(opacity=0.5)  ) %>% addPolygons(data = ufscar_shp) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
leaflet() %>%
addProviderTiles(providers$Esri.WorldImagery , tileOptions(opacity=100)  ) %>% addPolygons(data = ufscar_shp) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
leaflet() %>%
addProviderTiles(providers$Esri.WorldImagery , tileOptions(opacity= 0.09)  ) %>% addPolygons(data = ufscar_shp) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
leaflet() %>%
addProviderTiles(providers$Esri.WorldImagery) %>% addPolygons(data = ufscar_shp) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
figures_path <- "C:/Users/ferre/OneDrive/Área de Trabalho/pesquisa/Artigo-Biomastats-2023/figuras"
fig.name <- file.path(figures_path, "figura1-A")
tiff(fig.name, res = 900)
leaflet() %>%
addProviderTiles(providers$Esri.WorldImagery) %>% addPolygons(data = ufscar_shp) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
dev.off()
leaflet() %>%
addProviderTiles(providers$Esri.WorldImagery) %>% addPolygons(data = ufscar_shp) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
leaflet() %>%
addProviderTiles(providers$OpenStreetMap.Mapnik) %>% addPolygons(data = ufscar_shp) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
leaflet() %>%
addProviderTiles(providers$Esri) %>% addPolygons(data = ufscar_shp) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
leaflet() %>%
addProviderTiles(providers$CartoDB) %>% addPolygons(data = ufscar_shp) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
# figura 1-B print
cutout <- make_polygon(lat = -23.602, lon = -48.524, size = 2.5, shape = "hexagon")
leaflet() %>%
addProviderTiles(providers$CartoDB) %>% addPolygons(data = ufscar_shp) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
leaflet() %>%
addProviderTiles(providers$CartoDB) %>% addPolygons(data = cutout$polygon) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
# figura 1-B print
cutout <- make_polygon(lat = -23.602, lon = -48.524, size = 2, shape = "hexagon")
leaflet() %>%
addProviderTiles(providers$CartoDB) %>% addPolygons(data = cutout$polygon) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
# figura 1-B print
cutout <- make_polygon(lat = -23.602, lon = -48.524, size = 2, shape = "square")
leaflet() %>%
addProviderTiles(providers$CartoDB) %>% addPolygons(data = cutout$polygon) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
cutout <- make_polygon(lat = -23.602, lon = -48.524, size = 2, shape = "cricle")
cutout <- make_polygon(lat = -23.602, lon = -48.524, size = 2, shape = "circle")
leaflet() %>%
addProviderTiles(providers$CartoDB) %>% addPolygons(data = cutout$polygon) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
cutout <- make_polygon(lat = -23.602, lon = -48.524, size = 2, shape = "hexagon")
leaflet() %>%
addProviderTiles(providers$CartoDB) %>% addPolygons(data = cutout$polygon) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
shp_file <- file.path(path_package, "shp/UFSCar.shp")
ufscar_shp <- sf::read_sf(shp_file)
ufscar_shp <- sf::st_transform(ufscar_shp, crs = 4326)
# figura 1-A print
leaflet() %>%
addProviderTiles(providers$CartoDB) %>% addPolygons(data = ufscar_shp) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
land_vis(recortes, year = 1985)
land_vis(recortes, year = 1990)
land_vis(recortes, year = 1995)
cutout <- make_polygon(lat = -23.602, lon = -48.524, size = 2, shape = "hexagon")
leaflet() %>%
addProviderTiles(providers$OpenTopoMap ) %>% addPolygons(data = cutout$polygon) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
leaflet() %>%
addProviderTiles(providers$OpenWeatherMap.Precipitation ) %>% addPolygons(data = cutout$polygon) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
leaflet() %>%
addProviderTiles(providers$Esri.WorldImagery ) %>% addPolygons(data = cutout$polygon) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
leaflet() %>%
addProviderTiles(providers$Esri.WorldImagery) %>% addPolygons(data = ufscar_shp) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
cutout <- make_polygon(lat = -23.602, lon = -48.524, size = 2, shape = "square")
shp_brasil <- file.path(path_package,"shp/brasil_cortado.shp"  )
brasil <- sf::read_sf(shp_brasil)
brasil <- sf::st_transform(brasil, crs = 4326)
mapview(brasil)
plot(brasil)
leaflet() %>% addProviderTiles( providers$CartoDB.PositronNoLabels ) %>% addPolygons(brasil)
leaflet() %>% addProviderTiles( providers$CartoDB.PositronNoLabels ) %>% addPolygons(data = brasil)
leaflet() %>% addProviderTiles( ) %>% addPolygons(data = brasil)
leaflet() %>% addTiles( ) %>% addPolygons(data = brasil)
leaflet() %>% addProviderTiles( providers$Esri.WorldImagery ) %>% addPolygons(data = brasil)
leaflet() %>% addPolygons(data = brasil)
mapview(brasil)
cutout <- make_polygon(lat = -23.602, lon = -48.524, size = 2, shape = "square")
recortes <- load_rasters(shape_path = shp_file, start=1985, end=2021, data_from = "example")
land_vis(recortes, year = 1995)
recortes <- load_rasters(start=1985, end=2021, data_from = "example")
land_vis(recortes, year = 1995)
land_vis(recortes, year = 2020)
land_vis(recortes, year = 1990)
land_vis(recortes, year = 1995)
land_vis(recortes, year = 2000)
mapview(cutout$polygon)
plot(brasil$geometry)
plot(brasil$geometry, lwd = 0.3)
dim(brasil$geometry)
dim(brasil$geometry)
length(brasil$geometry)
v <- sample(c(0,1), 1043, replace = TRUE)
v
plot(brasil$geometry, lwd = 0.3, col = v)
mapview(brasil$geometry, lwd = 0.3, col = v)
mapview(brasil$geometry, lwd = 0.3, color = v)
plot(brasil$geometry, lwd = 0.3, col = v*2)
recortes <- load_rasters(shp_file, start=1985, end=2021, data_from = "example")
results$time_series
land_vis(recortes, year = 2000)
land_dist(results, year = 2020, type = "barplot")
knitr::opts_chunk$set(echo = TRUE)
#remove.packages("biomastats")
library(devtools)
#devtools::install_github("iep-ferreira/biomastats")
library(biomastats)
library(leaflet)
library(sf)
(path_package <- system.file(package = "biomastats"))
figures_path <- "C:/Users/ferre/OneDrive/Área de Trabalho/pesquisa/Artigo-Biomastats-2023/figuras"
shp_file <- file.path(path_package, "shp/UFSCar.shp")
ufscar_shp <- sf::read_sf(shp_file)
ufscar_shp <- sf::st_transform(ufscar_shp, crs = 4326)
# figura 1-A print
shp_brasil <- file.path(path_package,"shp/brasil_cortado.shp")
brasil <- sf::read_sf(shp_brasil)
brasil <- sf::st_transform(brasil, crs = 4326)
recortes <- load_rasters(shp_file, start=1985, end=2021, data_from = "example")
results <- get_area(recortes)
results$time_series
results$aggregate_data
kable::kable(results$aggregate_data)
library(DT)
DT::datatable(results$aggregate_data)
library(kableExtra)
kable(results$aggregate_data)
kable(results$aggregate_data[,1:10])
kable(results$aggregate_data[1:10,])
kable(results$aggregate_data[1:10,], "book")
kableExtra::kable(results$aggregate_data[1:10,], "book")
kableExtra::kable(results$aggregate_data[1:10,], format = "book")
df <- results$aggregate_data[1:10,]
df %>%
kbl() %>%
kable_classic_2(full_width = F)
df %>%
kbl(caption="") %>%
kable_classic_2(full_width = F)
df <- results$aggregate_data[-1,1:10,]
df <- results$aggregate_data[1:10,-1]
df %>%
kbl(caption="") %>%
kable_classic_2(full_width = F)
df <- results$aggregate_data[1:10,]
df %>%
kbl(caption="") %>%
kable_classic_2(full_width = F)
file.name <- file.path(figures_path, "table.tiff")
tiff(file.name, res = 900, width = 12, height = 10)
df %>%
kbl(caption="") %>%
kable_classic_2(full_width = F)
dev.off()
tiff(file.name, res = 900)
df %>%
kbl(caption="") %>%
kable_classic_2(full_width = F)
dev.off()
ch <- df %>%
kbl(caption="") %>%
kable_classic_2(full_width = F)
file.name <- file.path(figures_path, "table.tiff")
tiff(file.name, res = 900)
plot(ch)
tiff(file.name, res = 900, width = 10, height = 8)
tiff(file.name, res = 900, width = 1200, height = 1200)
plot(ch)
file.name <- file.path(figures_path, "table.tiff")
tiff(file.name, res = 900, width = 1200, height = 1200)
plot(ch)
file.name <- file.path(figures_path, "table.tiff")
tiff(file.name, res = 900, width = 1200, height = 1200)
ch
dev.off()
install.packages("flexboard")
file.name <- file.path(figures_path, "table.docx")
ch <- df %>%
kbl(caption="") %>%
kable_classic_2(full_width = F)
library(flexboard)
install.packages("flextable")
library(flextable)
# Export to Word
save_as_docx(my_flextable, "my_table.docx")
# Export to Word
save_as_docx(ch, "my_table.docx")
file.name <- file.path(figures_path, "table.docx")
# Export to Word
save_as_docx(ch, file.name)
file.name <- file.path(figures_path, "table.docx")
# Export to Word
save_as_docx(ch, file.name)
# Export to Word
save_as_docx(ch, figures_path)
# Export to Word
save_as_docx(ch, path =  figures_path)
file.name <- file.path(figures_path,"mytab.docx")
# Export to Word
save_as_docx(ch, path =  file.name)
# Export to Word
ch <- as_flextable(ch)
ch <- df %>%
kbl(caption="") %>%
kable_classic_2(full_width = F)
# Export to Word
ch <- as_flextable(ch)
results$time_series
file.name <- file.path(figures_path,"time-serie.tiff")
tiff(file.name, res = 1200, width = 2000, height = 2000)
results$time_series
dev.off()
file.name <- file.path(figures_path,"time-serie.tiff")
tiff(file.name, width = 2000, height = 2000)
results$time_series
dev.off()
file.name <- file.path(figures_path,"time-serie.tiff")
tiff(file.name, res=600, units="px")
results$time_series
dev.off()
file.name <- file.path(figures_path,"time-serie.tiff")
tiff(file.name, res=600, width = 300, height = 300, units="px")
results$time_series
dev.off()
tiff(file.name, res=600, width = 12, height = 12, units="cm")
results$time_series
dev.off()
file.name <- file.path(figures_path,"time-serie.tiff")
tiff(file.name, res=600, width = 22, height = 12, units="cm")
results$time_series
dev.off()
file.name <- file.path(figures_path,"cover-1985.tiff")
tiff(file.name, res=600, width = 22, height = 18, units="cm")
land_vis(recortes, year = 1985)
dev.off()
file.name <- file.path(figures_path,"cover-1985.tiff")
tiff(file.name, res=600, width = 22, height = 30, units="cm")
land_vis(recortes, year = 1985)
dev.off()
file.name <- file.path(figures_path,"cover-1985.tiff")
tiff(file.name, res=600, width = 18, height = 16, units="cm")
land_vis(recortes, year = 1985)
dev.off()
file.name <- file.path(figures_path,"cover-1985.tiff")
tiff(file.name, res=600, width = 18, height = 12, units="cm")
land_vis(recortes, year = 1985)
dev.off()
file.name <- file.path(figures_path,"cover-1990.tiff")
tiff(file.name, res=600, width = 18, height = 12, units="cm")
land_vis(recortes, year = 1990)
dev.off()
file.name <- file.path(figures_path,"cover-2000.tiff")
tiff(file.name, res=600, width = 18, height = 12, units="cm")
land_vis(recortes, year = 2000)
dev.off()
file.name <- file.path(figures_path,"cover-2010.tiff")
tiff(file.name, res=600, width = 18, height = 12, units="cm")
land_vis(recortes, year = 2010)
dev.off()
file.name <- file.path(figures_path,"cover-2020.tiff")
tiff(file.name, res=600, width = 18, height = 12, units="cm")
land_vis(recortes, year = 2020)
dev.off()
file.name <- file.path(figures_path,"dist-1990.tiff")
tiff(file.name, res=600, width = 18, height = 12, units="cm")
land_dist(recortes, year = 1990, type = "barplot")
file.name <- file.path(figures_path,"dist-1990.tiff")
tiff(file.name, res=600, width = 18, height = 12, units="cm")
land_dist(results, year = 1990, type = "barplot")
dev.off()
file.name <- file.path(figures_path,"dist-2020.tiff")
tiff(file.name, res=600, width = 18, height = 12, units="cm")
land_dist(results, year = 1990, type = "barplot")
dev.off()
file.name <- file.path(figures_path,"dist-2020.tiff")
tiff(file.name, res=600, width = 18, height = 12, units="cm")
land_dist(results, year = 2020, type = "barplot")
dev.off()
results$aggregate_data %>% filter(year=2020)
results$aggregate_data %>% filter('year'=2020)
results$aggregate_data %>% filter(year='2020')
results$aggregate_data[year==2020,]
df <- results$aggregate_data
names(df)
filter(df, year = '2020')
filter(df, year = 2020)
filter(df, year == 2020)
filter(df, "year" = 2020)
df[df$year==2020]
df[df$year==2020,]
sum(df[df$year==2020,]$area)
643*10000/10^6
sum(df[df$year==2020,]$area)
knitr::opts_chunk$set(echo = TRUE)
# para remover versões anteriores do pacote
#remove.packages("biomastats")
library(devtools)
#devtools::install_github("iep-ferreira/biomastats")
library(biomastats)
library(leaflet)
library(sf)
system.file(package = "biomastats")
(path_package <- system.file(package = "biomastats"))
figures_path <- "C:/Users/ferre/OneDrive/Área de Trabalho/pesquisa/Artigo-Biomastats-2023/figuras"
shp_file <- file.path(path_package, "shp/UFSCar.shp")
ufscar_shp <- sf::read_sf(shp_file)
ufscar_shp <- sf::st_transform(ufscar_shp, crs = 4326)
ufscar_shp <- sf::st_transform(ufscar_shp, crs = 4326)
# figura 1-A print
leaflet() %>%
addProviderTiles(providers$OpenStreetMap) %>% addPolygons(data = ufscar_shp) %>% setView(lat = -23.602, lng = -48.524, zoom=14.4)
cutout <- make_polygon(lat = -23.602, lon = -48.524, size = 2, shape = "square")
mapview(cutout$polygon)
library(mapview)
mapview(cutout$polygon)
recortes <- load_rasters(start=1985, end=2021, data_from = "example")
#install.packages("flextable")
results <- get_area(recortes)
library(DT)
library(kableExtra)
DT::datatable(results$aggregate_data)
df <- results$aggregate_data[1:10,]
ch <- df %>%
kbl(caption="") %>%
kable_classic_2(full_width = F)
results$time_series
land_vis(recortes, year = 2018)
land_dist(results, year = 2020, type = "barplot")
land_dist(results, year = 2020, type = "pie")
recortes <- load_rasters(shp_file, start=1985, end=2021, data_from = "example")
#install.packages("flextable")
results <- get_area(recortes)
results$time_series
land_vis(recortes, year = 2018)
land_dist(results, year = 2020, type = "barplot")
help(predict)
# Ajustando o modelo linear
modelo <- lm(y ~ x, data = dados)
# Gerando novos valores de x
novos_valores_x <- 0:35
# Fazendo previsões com os novos valores de x
previsoes <- predict(modelo, newdata = data.frame(x = novos_valores_x))
# Exibindo as previsões
print(previsoes)
y <- rnorm(100,0,10)
x <- rnorm(100,0,10)
# Ajustando o modelo linear
modelo <- lm(y ~ x, data = dados)
# Ajustando o modelo linear
modelo <- lm(y ~ x)
# Gerando novos valores de x
novos_valores_x <- 0:35
# Fazendo previsões com os novos valores de x
previsoes <- predict(modelo, newdata = data.frame(x = novos_valores_x))
# Exibindo as previsões
print(previsoes)
previsoes <- predict(modelo,
newdata = data.frame(x = novos_valores_x),
interval = "confidence"
)
# Exibindo as previsões
print(previsoes)
knitr::opts_chunk$set(echo = TRUE)
library(devtools)
#devtools::install_github("iep-ferreira/biomastats")
library(biomastats)
library(leaflet)
library(sf)
(path_package <- system.file(package = "biomastats"))
figures_path <- "C:/Users/ferre/OneDrive/Área de Trabalho/pesquisa/Artigo-Biomastats-2023/figuras"
leaflet() %>%
addProviderTiles(providers$Esri.NatGeoWorldMap ) %>% setView(lat =  35.24, lng =  24.80, zoom=12)
cutout <- make_polygon(lat = -23.602, lon = -48.524, size = 1, shape = "hexagon")
recortes <- load_rasters(start=1985, end=2021, data_from = "example")
land_vis(recortes, year = 2021)
land_vis(recortes, year = 2020)
land_vis(recortes, year = 1990)
results$time_series
#install.packages("flextable")
results <- get_area(recortes)
results$time_series
knitr::opts_chunk$set(echo = TRUE)
#remove.packages("biomastats")
library(devtools)
#devtools::install_github("iep-ferreira/biomastats")
library(biomastats)
library(leaflet)
library(sf)
leaflet() %>%
addProviderTiles(providers$OpenTopoMap ) %>% setView(lat =  35.24, lng =  24.80, zoom=12)
